# Start with relevant imports
from flask import Flask,request,json,jsonify,abort
import uuid,json
from flask.ext.sqlalchemy import SQLAlchemy
# set up flask app
app = Flask(__name__)
# link to local sqlite database
app.config['SQLALCHEMY_DATABASE_URI'] = \
'mysql://''@localhost/mlb'
# initialize Database
db = SQLAlchemy(app)


class AllstarFull(db.Model):
	__tablename__ = 'AllstarFull'
	playerID = db.Column(db.String(9),primary_key=True,nullable=False)
	yearID = db.Column(db.Integer,primary_key=True,nullable=False,default=0)
	gameNum = db.Column(db.Integer,primary_key=True,nullable=False,default=0)
	gameID = db.Column(db.String(12),primary_key=False,nullable=True)
	teamID = db.Column(db.String(3),primary_key=False,nullable=True)
	lgID = db.Column(db.String(2),primary_key=False,nullable=True)
	GP = db.Column(db.Integer,primary_key=False,nullable=True)
	startingPos	= db.Column(db.Integer,primary_key=False,nullable=True)

class Appearances(db.Model):
	__tablename__ = 'Appearances'
	yearID = db.Column(db.Integer,primary_key=True,nullable=False,default=0)
	teamID = db.Column(db.String(3),primary_key=False,nullable=True)
	lgID = db.Column(db.String(2),primary_key=False,nullable=True)
	playerID = db.Column(db.String(9),primary_key=True,nullable=False)
	G_all = db.Column(db.Integer,primary_key=False,nullable=True)
	GS = db.Column(db.Integer,primary_key=False,nullable=True)
	G_batting = db.Column(db.Integer,primary_key=False,nullable=True)
	G_defense = db.Column(db.Integer,primary_key=False,nullable=True)
	G_p = db.Column(db.Integer,primary_key=False,nullable=True)
	G_c = db.Column(db.Integer,primary_key=False,nullable=True)
	G_1b = db.Column(db.Integer,primary_key=False,nullable=True)
	G_2b = db.Column(db.Integer,primary_key=False,nullable=True)
	G_3b = db.Column(db.Integer,primary_key=False,nullable=True)
	G_ss = db.Column(db.Integer,primary_key=False,nullable=True)
	G_lf = db.Column(db.Integer,primary_key=False,nullable=True)
	G_cf = db.Column(db.Integer,primary_key=False,nullable=True)
	G_rf = db.Column(db.Integer,primary_key=False,nullable=True)
	G_of = db.Column(db.Integer,primary_key=False,nullable=True)
	G_dh = db.Column(db.Integer,primary_key=False,nullable=True)
	G_ph = db.Column(db.Integer,primary_key=False,nullable=True)
	G_pr = db.Column(db.Integer,primary_key=False,nullable=True)

class AwardsManagers(db.Model):
	__tablename__ = 'AwardsManagers'
	playerID = db.Column(db.String(10),primary_key=True,nullable=False)
	awardID = db.Column(db.String(75),primary_key=True,nullable=False)
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	lgID = db.Column(db.String(2),primary_key=True,nullable=True)
	tie = db.Column(db.String(1),primary_key=False,nullable=True)
	notes = db.Column(db.String(100),primary_key=False,nullable=True)

class AwardsPlayers(db.Model):
	__tablename__ = 'AwardsPlayers'
	playerID = db.Column(db.String(9),primary_key=True,nullable=False)
	awardID = db.Column(db.String(255),primary_key=True,nullable=False)
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	lgID = db.Column(db.String(2),primary_key=True,nullable=True)
	tie = db.Column(db.String(1),primary_key=False,nullable=True)
	notes = db.Column(db.String(100),primary_key=False,nullable=True)

class AwardsSharePlayers(db.Model):
	__tablename__ = 'AwardsSharePlayers'
	awardID = db.Column(db.String(25),primary_key=True,nullable=False)
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	lgID = db.Column(db.String(2),primary_key=True,nullable=True)
	playerID = db.Column(db.String(9),primary_key=True,nullable=False)
	pointsWon = db.Column(db.Float, primary_key=False, nullable=True)
	pointsMax = db.Column(db.Integer, primary_key=False, nullable=True)
	votesFirst = db.Column(db.Float, primary_key=False, nullable=True)

class Batting(db.Model):
	__tablename__ ='Batting'
	playerID = db.Column(db.String(9),primary_key=True,nullable=False)
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	stint = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	teamID = db.Column(db.String(3),primary_key=False,nullable=True)
	lgID = db.Column(db.String(2),primary_key=False,nullable=True)
	G = db.Column(db.Integer,primary_key=False,nullable=True)
	G_batting = db.Column(db.Integer,primary_key=False,nullable=True)
	AB = db.Column(db.Integer,primary_key=False,nullable=True)
	R = db.Column(db.Integer,primary_key=False,nullable=True)
	H = db.Column(db.Integer,primary_key=False,nullable=True)
	doubles = db.Column(db.Integer,primary_key=False,nullable=True,name="2b")
	triples = db.Column(db.Integer,primary_key=False,nullable=True,name="3b")
	HR = db.Column(db.Integer,primary_key=False,nullable=True)
	RBI = db.Column(db.Integer,primary_key=False,nullable=True)
	SB = db.Column(db.Integer,primary_key=False,nullable=True)
	CS = db.Column(db.Integer,primary_key=False,nullable=True)
	BB = db.Column(db.Integer,primary_key=False,nullable=True)
	SO = db.Column(db.Integer,primary_key=False,nullable=True)
	IBB = db.Column(db.Integer,primary_key=False,nullable=True)
	HBP = db.Column(db.Integer,primary_key=False,nullable=True)
	SH = db.Column(db.Integer,primary_key=False,nullable=True)
	SF = db.Column(db.Integer,primary_key=False,nullable=True)
	GIDP = db.Column(db.Integer,primary_key=False,nullable=True)
	G_old = db.Column(db.Integer,primary_key=False,nullable=True)

class BattingPost(db.Model):
	__tablename__ = 'BattingPost'
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	round_ = db.Column(db.String(10),primary_key=True,nullable=False, default=0,name="round")
	playerID = db.Column(db.String(9),primary_key=True,nullable=False)
	teamID = db.Column(db.String(3),primary_key=False,nullable=True)
	lgID = db.Column(db.String(2),primary_key=False,nullable=True)
	G = db.Column(db.Integer,primary_key=False,nullable=True)
	AB = db.Column(db.Integer,primary_key=False,nullable=True)
	R = db.Column(db.Integer,primary_key=False,nullable=True)
	H = db.Column(db.Integer,primary_key=False,nullable=True)
	doubles = db.Column(db.Integer,primary_key=False,nullable=True,name="2b")
	triples = db.Column(db.Integer,primary_key=False,nullable=True,name="3b")
	HR = db.Column(db.Integer,primary_key=False,nullable=True)
	RBI = db.Column(db.Integer,primary_key=False,nullable=True)
	SB = db.Column(db.Integer,primary_key=False,nullable=True)
	CS = db.Column(db.Integer,primary_key=False,nullable=True)
	BB = db.Column(db.Integer,primary_key=False,nullable=True)
	SO = db.Column(db.Integer,primary_key=False,nullable=True)
	IBB = db.Column(db.Integer,primary_key=False,nullable=True)
	HBP = db.Column(db.Integer,primary_key=False,nullable=True)
	SH = db.Column(db.Integer,primary_key=False,nullable=True)
	SF = db.Column(db.Integer,primary_key=False,nullable=True)
	GIDP = db.Column(db.Integer,primary_key=False,nullable=True)

class HallOfFame(db.Model):
	__tablename__ = 'HallOfFame'
	playerID = db.Column(db.String(10),primary_key=True,nullable=False)
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	votedBy = db.Column(db.String(64),primary_key=True,nullable=False)
	ballots = db.Column(db.Integer,primary_key=False,nullable=True)
	needed = db.Column(db.Integer,primary_key=False,nullable=True)
	votes = db.Column(db.Integer,primary_key=False,nullable=True)
	inducted = db.Column(db.String(1),primary_key=False,nullable=True)
	category = db.Column(db.String(20),primary_key=False,nullable=True)
	needed_note= db.Column(db.String(25),primary_key=False,nullable=True)

class Managers(db.Model):
	__tablename__ = 'Managers'
	playerID = db.Column(db.String(10),primary_key=False,nullable=True)
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	teamID = db.Column(db.String(3),primary_key=True,nullable=True)
	lgID = db.Column(db.String(2),primary_key=False,nullable=True)
	inseason = db.Column(db.Integer,primary_key=True,nullable=False)
	G = db.Column(db.Integer,primary_key=False,nullable=True)
	W = db.Column(db.Integer,primary_key=False,nullable=True)
	L = db.Column(db.Integer,primary_key=False,nullable=True)
	rank = db.Column(db.Integer,primary_key=False,nullable=True)
	plyrMgr = db.Column(db.String(1),primary_key=False,nullable=True)

class Master(db.Model):
	__tablename__ = 'Master'
	playerID = db.Column(db.String(10),primary_key=True,nullable=False)
	birthYear = db.Column(db.Integer,primary_key=False,nullable=True)
	birthMonth = db.Column(db.Integer,primary_key=False,nullable=True)
	birthDay = db.Column(db.Integer,primary_key=False,nullable=True)
	birthCountry = db.Column(db.String(50),primary_key=False,nullable=True)
	birthState = db.Column(db.String(2),primary_key=False,nullable=True)
	birthCity = db.Column(db.String(50),primary_key=False,nullable=True)
	deathYear = db.Column(db.Integer,primary_key=False,nullable=True)
	deathMonth = db.Column(db.Integer,primary_key=False,nullable=True)
	deathDay = db.Column(db.Integer,primary_key=False,nullable=True)
	deathCountry = db.Column(db.String(50),primary_key=False,nullable=True)
	deathState = db.Column(db.String(2),primary_key=False,nullable=True)
	deathCity = db.Column(db.String(50),primary_key=False,nullable=True)
	nameFirst = db.Column(db.String(50),primary_key=False,nullable=True)
	nameLast = db.Column(db.String(50),primary_key=False,nullable=True)
	nameGiven = db.Column(db.String(255),primary_key=False,nullable=True)
	weight = db.Column(db.Integer,primary_key=False,nullable=True)
	height = db.Column(db.Float, primary_key=False, nullable=True)
	bats = db.Column(db.String(1),primary_key=False,nullable=True)
	throws = db.Column(db.String(1),primary_key=False,nullable=True)
	debut = db.Column(db.DateTime,primary_key=False,nullable=True)
	finalGame = db.Column(db.DateTime,primary_key=False,nullable=True)
	retroID = db.Column(db.String(9),primary_key=False,nullable=True)
	bbrefID = db.Column(db.String(9),primary_key=False,nullable=True)

class Pitching(db.Model):
	__tablename__ = 'Pitching'
	playerID = db.Column(db.String(9),primary_key=True,nullable=False)
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	stint = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	teamID = db.Column(db.String(3),primary_key=False,nullable=True)
	lgID = db.Column(db.String(2),primary_key=False,nullable=True)
	W = db.Column(db.Integer,primary_key=False,nullable=True)
	L = db.Column(db.Integer,primary_key=False,nullable=True)
	G = db.Column(db.Integer,primary_key=False,nullable=True)
	GS = db.Column(db.Integer,primary_key=False,nullable=True)
	CG = db.Column(db.Integer,primary_key=False,nullable=True)
	SHO = db.Column(db.Integer,primary_key=False,nullable=True)
	SV = db.Column(db.Integer,primary_key=False,nullable=True)
	IPouts = db.Column(db.Integer,primary_key=False,nullable=True)
	H = db.Column(db.Integer,primary_key=False,nullable=True)
	ER = db.Column(db.Integer,primary_key=False,nullable=True)
	HR = db.Column(db.Integer,primary_key=False,nullable=True)
	BB = db.Column(db.Integer,primary_key=False,nullable=True)
	SO = db.Column(db.Integer,primary_key=False,nullable=True)
	BAOpp = db.Column(db.Float,primary_key=False,nullable=True)
	ERA = db.Column(db.Float,primary_key=False,nullable=True)
	IBB = db.Column(db.Integer,primary_key=False,nullable=True)
	WP = db.Column(db.Integer,primary_key=False,nullable=True)
	HBP = db.Column(db.Integer,primary_key=False,nullable=True)
	BK = db.Column(db.Integer,primary_key=False,nullable=True)
	BFP = db.Column(db.Integer,primary_key=False,nullable=True)
	GF = db.Column(db.Integer,primary_key=False,nullable=True)
	R = db.Column(db.Integer,primary_key=False,nullable=True)
	SH = db.Column(db.Integer,primary_key=False,nullable=True)
	SF = db.Column(db.Integer,primary_key=False,nullable=True)
	GIDP = db.Column(db.Integer,primary_key=False,nullable=True)

class PitchingPost(db.Model):
	__tablename__ = 'PitchingPost'
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	round_ = db.Column(db.String(10),primary_key=True,nullable=False, default=0,name="round")
	playerID = db.Column(db.String(9),primary_key=True,nullable=False)
	teamID = db.Column(db.String(3),primary_key=False,nullable=True)
	lgID = db.Column(db.String(2),primary_key=False,nullable=True)
	W = db.Column(db.Integer,primary_key=False,nullable=True)
	L = db.Column(db.Integer,primary_key=False,nullable=True)
	G = db.Column(db.Integer,primary_key=False,nullable=True)
	GS = db.Column(db.Integer,primary_key=False,nullable=True)
	CG = db.Column(db.Integer,primary_key=False,nullable=True)
	SHO = db.Column(db.Integer,primary_key=False,nullable=True)
	SV = db.Column(db.Integer,primary_key=False,nullable=True)
	IPouts = db.Column(db.Integer,primary_key=False,nullable=True)
	H = db.Column(db.Integer,primary_key=False,nullable=True)
	ER = db.Column(db.Integer,primary_key=False,nullable=True)
	HR = db.Column(db.Integer,primary_key=False,nullable=True)
	BB = db.Column(db.Integer,primary_key=False,nullable=True)
	SO = db.Column(db.Integer,primary_key=False,nullable=True)
	BAOpp = db.Column(db.Float,primary_key=False,nullable=True)
	ERA = db.Column(db.Float,primary_key=False,nullable=True)
	IBB = db.Column(db.Integer,primary_key=False,nullable=True)
	WP = db.Column(db.Integer,primary_key=False,nullable=True)
	HBP = db.Column(db.Integer,primary_key=False,nullable=True)
	BK = db.Column(db.Integer,primary_key=False,nullable=True)
	BFP = db.Column(db.Integer,primary_key=False,nullable=True)
	GF = db.Column(db.Integer,primary_key=False,nullable=True)
	R = db.Column(db.Integer,primary_key=False,nullable=True)
	SH = db.Column(db.Integer,primary_key=False,nullable=True)
	SF = db.Column(db.Integer,primary_key=False,nullable=True)
	GIDP = db.Column(db.Integer,primary_key=False,nullable=True)

class Salaries(db.Model):
	__tablename__ = 'Salaries'
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	teamID = db.Column(db.String(3),primary_key=False,nullable=True)
	lgID = db.Column(db.String(2),primary_key=False,nullable=True)
	playerID = db.Column(db.String(9),primary_key=True,nullable=False)
	salary = db.Column(db.Float, primary_key=False,nullable=True)

class SeriesPost(db.Model):
	__tablename__ = 'SeriesPost'
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	round_ = db.Column(db.String(5),primary_key=True,nullable=False, default=0,name="round")
	teamIDwinner = db.Column(db.String(3),primary_key=False,nullable=True)
	lgIDwinner = db.Column(db.String(2),primary_key=False,nullable=True)
	teamIDloser = db.Column(db.String(3),primary_key=False,nullable=True)
	lgIDloser = db.Column(db.String(2),primary_key=False,nullable=True)
	wins = db.Column(db.Integer,primary_key=False,nullable=True)
	losses = db.Column(db.Integer,primary_key=False,nullable=True)
	ties = db.Column(db.Integer,primary_key=False,nullable=True)

class Teams(db.Model):
	__tablename__ = 'Teams'
	yearID = db.Column(db.Integer,primary_key=True,nullable=False, default=0)
	lgID = db.Column(db.String(2),primary_key=True,nullable=True)
	teamID = db.Column(db.String(3),primary_key=True,nullable=True)
	franchID = db.Column(db.String(3),primary_key=False,nullable=True)
	divID = db.Column(db.String(1),primary_key=False,nullable=True)
	Rank = db.Column(db.Integer,primary_key=False,nullable=True)
	G = db.Column(db.Integer,primary_key=False,nullable=True)
	Ghome = db.Column(db.Integer,primary_key=False,nullable=True)
	W = db.Column(db.Integer,primary_key=False,nullable=True)
	L = db.Column(db.Integer,primary_key=False,nullable=True)
	divWin = db.Column(db.String(1),primary_key=False,nullable=True)
	WCWin = db.Column(db.String(1),primary_key=False,nullable=True)
	LgWin = db.Column(db.String(1),primary_key=False,nullable=True)
	WSWin = db.Column(db.String(1),primary_key=False,nullable=True)
	R = db.Column(db.Integer,primary_key=False,nullable=True)
	AB = db.Column(db.Integer,primary_key=False,nullable=True)
	H = db.Column(db.Integer,primary_key=False,nullable=True) 
	double = db.Column(db.Integer,primary_key=False,nullable=True,name="2b")
	triple = db.Column(db.Integer,primary_key=False,nullable=True,name="3b")
	HR = db.Column(db.Integer,primary_key=False,nullable=True)
	BB = db.Column(db.Integer,primary_key=False,nullable=True)
	SO = db.Column(db.Integer,primary_key=False,nullable=True)
	SB = db.Column(db.Integer,primary_key=False,nullable=True)
	CS = db.Column(db.Integer,primary_key=False,nullable=True)
	HBP = db.Column(db.Integer,primary_key=False,nullable=True)
	SF = db.Column(db.Integer,primary_key=False,nullable=True)
	RA = db.Column(db.Integer,primary_key=False,nullable=True)
	ER = db.Column(db.Integer,primary_key=False,nullable=True)
	ERA = db.Column(db.Float,primary_key=False,nullable=True)
	CG = db.Column(db.Integer,primary_key=False,nullable=True)
	SHO = db.Column(db.Integer,primary_key=False,nullable=True)
	SV = db.Column(db.Integer,primary_key=False,nullable=True)
	IPouts = db.Column(db.Integer,primary_key=False,nullable=True)
	HA = db.Column(db.Integer,primary_key=False,nullable=True)
	HRA = db.Column(db.Integer,primary_key=False,nullable=True)
	BBA = db.Column(db.Integer,primary_key=False,nullable=True)
	SOA = db.Column(db.Integer,primary_key=False,nullable=True)
	E = db.Column(db.Integer,primary_key=False,nullable=True)
	DP = db.Column(db.Integer,primary_key=False,nullable=True)
	FP = db.Column(db.Float,primary_key=False,nullable=True)
	name = db.Column(db.String(50),primary_key=False,nullable=True)
	park = db.Column(db.String(255),primary_key=False,nullable=True)
	attendance = db.Column(db.Integer,primary_key=False,nullable=True)
	BPF = db.Column(db.Integer,primary_key=False,nullable=True)
	PPF = db.Column(db.Integer,primary_key=False,nullable=True)
	teamIDBR = db.Column(db.String(3),primary_key=False,nullable=True)
	teamIDlahman45 = db.Column(db.String(3),primary_key=False,nullable=True)
	teamIDretro = db.Column(db.String(3),primary_key=False,nullable=True)

class TeamsFranchises(db.Model):
	franchID = db.Column(db.String(3),primary_key=True,nullable=False)
	franchName = db.Column(db.String(50),primary_key=False,nullable=True)
	active = db.Column(db.String(2),primary_key=False,nullable=True)
	NAassoc = db.Column(db.String(3),primary_key=False,nullable=True)

db.session.commit()



